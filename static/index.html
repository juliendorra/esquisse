<!DOCTYPE html>
<html lang="en">

<head>

    <!-- https://evilmartians.com/chronicles/how-to-favicon-in-2021-six-files-that-fit-most-needs -->
    <link rel="icon" href="favicon.ico"><!-- 32√ó32 -->
    <link rel="icon" href="icon512x512.png" type="image/png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png"><!-- 180√ó180 -->
    <link rel="manifest" href="manifest.webmanifest">

    <meta property='og:title' content='Esquisse AI: reactive LLM/Diffusion cells' />
    <meta property='og:image' content='https://user-images.githubusercontent.com/109677/241988208-2d42c609-91b9-49de-80d2-839322a3faae.png' />
    <meta property='og:description' content='A light tool when you need to prototype an AI workflow one level or two above prompt engineering.
    ' />
    <meta property='og:url' content='' />

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Esquisse AI. Reactive LLM/diffusion cells</title>
    <style>
        :root {
            --scale: 0.4;
            --margin-top-ratio: -0.3;
        }

        body {
            position: relative;
        }

        div,
        button,
        textarea {
            border-radius: 0.1rem;
        }

        ::placeholder {

            color: #8f8f8f;
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            transition:
                transform 0.15s ease-in-out,
                margin-top 0.15s ease-in-out,
                margin-bottom 0.15s ease-in-out;

        }

        .group {
            border: 2px solid #ccc;
            padding: 0.75rem;
            margin: 0.75rem;
            display: flex;
            flex-direction: column;
            max-width: 20rem;
            position: relative;
            border-radius: 0.25rem;
        }

        .group.break {
            flex-basis: 100%;
            height: fit-content;
            background-color: transparent;
            max-width: none;
            border-color: rgb(224, 229, 235);
        }

        .group.static {
            border-color: rgb(186, 226, 127);
        }

        .group.text {
            border-color: rgb(154, 123, 212);
        }

        .group.image {
            border-color: rgb(233, 107, 168);
        }

        .group-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            margin-bottom: 0.5rem;
            user-select: none;
        }

        .group-header small,
        .group-header button {
            user-select: none;
        }

        .group-header small {
            user-select: none;
            cursor: grab !important;
        }

        .delete-btn {
            padding: 0.1rem 0.3rem;
            font-size: 0.8em;
            border: 1px solid #cccccc;
            cursor: pointer;
            background-color: transparent;
        }

        .function-buttons-container {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 0.5rem;
        }


        .lock-btn,
        .entry-btn,
        .refresh-btn {
            padding: 0.4rem 0.5rem;
            font-size: 0.8em;
            align-self: flex-end;
            border: 1px solid #cccccc;
            cursor: pointer;
            background-color: transparent;
            margin-left: 0.5rem;
        }

        .download-btn {
            padding: 0.4rem 0.5rem;
            font-size: 0.8em;
            align-self: flex-end;
            border: 1px solid #cccccc;
            cursor: pointer;
            background-color: transparent;
            margin-left: 0.5rem;
            margin-top: 0.5rem;
        }

        .group-name,
        .data-text,
        .transform-text,
        .referenced-result-text {
            margin-bottom: 0.5rem;
        }

        textarea[readonly],
        input[readonly] {
            background: linear-gradient(0.25turn, #cfd8e5, #dedede);
            border: 0;
        }

        textarea.referenced-result-text[readonly] {
            background-color: rgb(207, 239, 243);
        }

        .data-text,
        .transform-text {
            height: 4em;
        }

        .add-break-group-btn,
        .add-static-group-btn,
        .add-group-btn,
        .add-img-group-btn {
            height: 2rem;
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 0.5rem;
            background-color: #f0f0f0;
            margin: 0.25rem;
        }

        .group.break.sortable-ghost {
            flex-basis: 10vw;
            max-height: 10vw;
        }

        .sortable-ghost {
            max-height: 10vw;
            align-self: center;
            overflow: hidden;
            background-color: rgba(153, 187, 255, 0.5);
        }

        .sortable-drag {
            opacity: 0.3;
        }

        .sortable-selected {
            background-color: rgba(153, 187, 255, 0.5);
        }

        .grabbing * {
            cursor: grabbing !important;
        }

        .miniview.container {
            /* substract the size of the add buttons to the miniview */
            --container-height: calc(100vh - 2rem - 1rem - 0.5rem - 2px);
            height: var(--container-height);
            transform: scale(var(--scale));
            margin-top: calc(var(--container-height)*var(--margin-top-ratio));
        }

        .miniview .tool-btn {
            opacity: 0;
        }

        /* hide the siblings, ex. buttons, when in miniview */
        .miniview.container~button {
            opacity: 0;
        }

        .error {
            border-color: red;
            color: red;
        }

        .waiting {
            background-image: linear-gradient(270deg, #f8a7ff, #efe4f9, #f8a7ff);
            animation: scrollingBackground 40s infinite linear;
            color: #f8a7ff;
            cursor: wait !important;
        }

        .waiting * {
            opacity: 0.5;
            cursor: wait !important;
        }

        @keyframes scrollingBackground {
            0% {
                background-position: 0 0
            }

            100% {
                background-position: 1000vw 0
            }
        }
    </style>
</head>

<body>
    <div class="container">

    </div>

    <button class="add-break-group-btn">Add Break ‚ûó</button>
    <button class="add-static-group-btn">Add Static Text üí†</button>
    <button class="add-group-btn">Add Text Transform üìù</button>
    <button class="add-img-group-btn">Add Image Gen üé®</button>
    <script type="module" src="app.js"></script>
</body>

</html>